<html LANG=en-US>
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=ISO-8859-1">
<title>Dvorak Anywhere</title>
<META NAME="keywords" CONTENT="dvorak, keyboard, qwerty, typing, type, ergonomic, layout, wpm">
<META NAME="description" CONTENT="A useful tool for using the Dvorak keyboard when you can't switch the computer you're using.">
<META NAME="author" CONTENT="Jordon Kalilich">
<META NAME="ROBOTS" CONTENT="ALL">
<!-- Metadata generated by http://vancouver-webpages.com/META/mk-metas.html -->

<style type="text/css">
<!--
BODY {background: FFFFFF; color: 000000}
h1 {color: 333399}
h2 {color: 333399}
-->
</style>

<script type="text/javascript">
<!--

//Dvorak Anywhere
//Original code by Jordon Kalilich.
//Updated August 2008 by Dave Schaefer.

/* Map keys pressed on a QWERTY keyboard to their DVORAK equivalents.
To be compatible with all browsers we store some extra keycodes in the mapping arrays.
e.g. When you press the ';' key on a QWERTY keyboard, some browsers send keycode 59 (';') and others send keycode 186 ('semi-colon').

Also, some browsers call the keypress event after the keydown event has finished. Other browsers do not. Still other browsers only call keypress if keydown returned a true value. On top of this, the keycode passed by some browsers in the keydown event is different than the keycode passed during the keypress event. 

To deal with all of this, we trap both the keydown and keypress events. In keydown we always modify Dvorak keycodes and update the textarea. In keypress, we do NOT print the Dvorak keycodes, because they will already have been printed in keydown. Keys that don't need mapping ('a', 'm', the number keys) are left alone and print normally.
*/


var qwerty = Array(189, 187, 81, 87, 69, 82, 84, 89, 85, 73, 79, 80, 219, 221, 65, 83, 68, 70, 71, 72, 74, 75, 76, 59, 192, 222, 220, 90, 88, 67, 86, 66, 78, 77, 188, 190, 191, 109, 107, 61, 186);
var dvorak = Array('[', ']', '\'', ',', '.', 'p', 'y', 'f', 'g', 'c', 'r', 'l', '/', '=', 'a', 'o', 'e', 'u', 'i', 'd', 'h', 't', 'n', 's', '-', '-', '\\', ';', 'q', 'j', 'k', 'x', 'b', 'm', 'w', 'v', 'z', '[', ']', ']', 's');
var DVORAK = Array('{', '}', '\"', '<', '>', 'P', 'Y', 'F', 'G', 'C', 'R', 'L', '?', '+', 'A', 'O', 'E', 'U', 'I', 'D', 'H', 'T', 'N', 'S', '_', '_', '|', ':', 'Q', 'J', 'K', 'X', 'B', 'M', 'W', 'V', 'Z', '{', '}', '}', 'S');

var goodcode; //global variable for tracking 'keydown' event keycodes.

function chkKey(evt, f, printDvk)
{
	var QwertyKey, DvorakKey, Ctrl, Shift, keycode;

	//grab the proper event object, regardless of browser.
	//we can then grab the keycode and metakeys more easily.
	evt = (evt) ? evt : ((event) ? event : "")
    	if (evt) 
	{
		if (evt.keyCode) {keycode = evt.keyCode;}
		else if (evt.which) {keycode = evt.which;}

		QwertyKey = keycode;
		goodcode = keycode;	
		Ctrl = evt.ctrlKey; //TODO: these still need testing on a Mac
		Shift = evt.shiftKey;
	
		DvorakKey = 0;
		for (var I = 0; I < qwerty.length; I++) 
		{
			if (qwerty[I] == QwertyKey) 
			{
				if (Shift)
					DvorakKey = DVORAK[I];
				else
					DvorakKey = dvorak[I];
				break;
			}
		}

		if (DvorakKey && !Ctrl) 
		{
			if (printDvk == 1)
			{
				f.value += DvorakKey;
			}
			return false;
		}
		else 
		{
			return true;
		}

	}
	else
	{
		f.value += 1234567890;
	}
}

-->
</script>
</head>
<body>

<center><h1>Dvorak Anywhere</h1>
<font color="333399"><b>Using someone else's computer and can't switch it to Dvorak?</b></font></center>

<p>Dvorak Anywhere is a tool that enables you to use the Dvorak keyboard when the computer is set to QWERTY. It's useful if you can't change the settings of your computer at work or school, or if you're using a friend's or family member's computer. Just go to this page, <a href="http://www.theworldofstuff.com/dvorak/dvorak.html">http://www.theworldofstuff.com/dvorak/dvorak.html</a>, and type how you would with Dvorak in the box below. The correct text will appear. (A picture of the layout is included also, if you need to look.) Then you can copy and paste the text where you want it to go. For the ultimate in portability, you could save this web page on an external hard drive and take it with you anywhere you might need it.</p>

<div style="text-align: center"><form id=dvorakform action=javascript><textarea name="dvorak" rows="10" cols="100" style="font-family: times new roman; font-size: 12pt; background: #E9E9FF" onkeydown="return chkKey(event,this,1)" onkeypress="return chkKey(event,this,0)" wrap></textarea></form><br />

<img src="dvorak.png" alt="The Dvorak keyboard layout" />
</div>

</div>

<h2>Known Problems</h2>
<ul>
<li>Page does not work correctly in Internet Explorer 7 on Windows Vista (though IE7 on other operating systems seems to work fine). Until this is fixed please use some other combination of browser and/or OS :)</li>
<li>You can only append to what you have typed. To change something in the middle of the text, type it at the end, then cut and paste.</li>
</ul>

<p>See also: <a href="http://www.theworldofstuff.com/dvorak/kbdxdv.htm">Dvorak International Anywhere</a> by Enrique Pedroso.</p>

<p><b>Credits:</b><br>Original code by Jordon Kalilich, with many thanks to whammy and joh6nn of <a href="http://www.codingforums.com" target="_blank">CodingForums.com</a>, Paul Dann, and Maxime Biais for their help with this page.<br>Code updated in August 2008 by Dave Schaefer.</p>

<p>Copyright 2002-2008 Jordon Kalilich. This page, including the Dvorak keyboard image, is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/us/">Creative Commons Attribution-ShareAlike 3.0 United States</a> license. The image is based on an <a href="http://www.flickr.com/photos/behdad/41843368/">image</a> by Behdad Esfahbod that is licensed under a <a href="http://creativecommons.org/licenses/by/2.0/deed.en">Creative Commons Attribution 2.0 Generic license</a>.</p>

Back to <a href="http://www.theworldofstuff.com/dvorak/">The Dvorak Keyboard and You</a><br /><br />

<i>By Jordon Kalilich<br />Last updated May 20, 2008<br />Created November 15, 2002</i>

</body>
</html>
